<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrainAPI - IA Conversacional para APIs</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #f8f9fa;
            --text-color: #212529;
            --primary-color: #0052cc;
            --primary-light: #e6f0ff;
            --secondary-color: #38b2ac;
            --accent-color: #ff9900;
            --card-bg: #ffffff;
            --code-bg: #1e1e1e;
            --code-text: #d4d4d4;
            --border-color: #dee2e6;
            --shadow-color: rgba(0, 0, 0, 0.05);
            --sidebar-bg: #ffffff;
            --sidebar-text: #495057;
            --sidebar-active-bg: var(--primary-light);
            --sidebar-active-text: var(--primary-color);
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --text-color: #e0e0e0;
            --primary-color: #4dabf7;
            --primary-light: rgba(77, 171, 247, 0.1);
            --secondary-color: #4fd1c5;
            --accent-color: #f7b84b;
            --card-bg: #1e1e1e;
            --code-bg: #161616;
            --code-text: #d4d4d4;
            --border-color: #333;
            --shadow-color: rgba(0, 0, 0, 0.15);
            --sidebar-bg: #1e1e1e;
            --sidebar-text: #adb5bd;
            --sidebar-active-bg: var(--primary-light);
            --sidebar-active-text: var(--primary-color);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            display: flex;
        }

        /* --- Layout --- */
        .sidebar {
            width: 260px;
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
            display: flex;
            flex-direction: column;
            transition: background-color 0.3s, border-color 0.3s, transform 0.3s ease;
            z-index: 1000;
        }

        .main-content {
            margin-left: 260px;
            width: calc(100% - 260px);
            padding: 2rem 4rem;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .section {
            padding-top: 5rem;
            margin-bottom: 3rem;
            min-height: 80vh;
            border-top: 1px solid var(--border-color);
        }
        .section:first-child {
            padding-top: 2rem;
            border-top: none;
        }
        
        .section-header {
            margin-bottom: 3rem;
            text-align: center;
        }
        
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            position: relative;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--sidebar-text);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* --- Sidebar --- */
        .sidebar-header {
            padding: 0 1.5rem 2rem 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            border-bottom: 1px solid var(--border-color);
        }
        .sidebar-logo {
            width: 40px;
        }
        .sidebar-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .sidebar-nav {
            flex-grow: 1;
            overflow-y: auto;
            padding: 1rem 0;
        }
        .sidebar-nav ul {
            list-style: none;
        }
        .sidebar-nav li a {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            padding: 0.8rem 1.5rem;
            margin: 0.2rem 1rem;
            text-decoration: none;
            color: var(--sidebar-text);
            font-weight: 500;
            border-radius: 8px;
            transition: background-color 0.2s, color 0.2s;
        }
        .sidebar-nav li a.active,
        .sidebar-nav li a:hover {
            background-color: var(--sidebar-active-bg);
            color: var(--sidebar-active-text);
        }
        .sidebar-nav li a svg {
            width: 18px;
            height: 18px;
            stroke-width: 2px;
        }

        .sidebar-footer {
            padding: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        /* --- Theme Toggle --- */
        .theme-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
            background: none;
            border: 1px solid var(--border-color);
            color: var(--sidebar-text);
            padding: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            width: 100%;
            transition: all 0.2s;
        }
        .theme-toggle:hover {
            background-color: var(--sidebar-active-bg);
            color: var(--sidebar-active-text);
        }
        .theme-toggle .icon { display: flex; align-items: center; gap: 0.5rem; }
        .theme-toggle .icon svg { width: 16px; height: 16px; }
        .theme-toggle .dark-icon { display: none; }
        .theme-toggle .light-icon { display: flex; }
        [data-theme="dark"] .theme-toggle .dark-icon { display: flex; }
        [data-theme="dark"] .theme-toggle .light-icon { display: none; }
        
        /* --- Card --- */
        .card {
            background-color: var(--card-bg);
            border-radius: 12px;
            padding: 2.5rem;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px var(--shadow-color);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px var(--shadow-color);
        }
        
        /* --- Code Blocks --- */
        .code-block {
            background-color: var(--code-bg);
            color: var(--code-text);
            font-family: 'JetBrains Mono', monospace;
            padding: 1.5rem;
            border-radius: 10px;
            overflow-x: auto;
            position: relative;
            margin-top: 1.5rem;
            font-size: 0.9rem;
        }
        .code-block-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #444;
        }
        .code-lang {
            font-size: 0.8rem;
            color: var(--secondary-color);
            font-weight: bold;
            text-transform: uppercase;
        }
        .copy-btn {
            background-color: transparent;
            border: 1px solid #555;
            color: #ccc;
            padding: 0.3rem 0.6rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.4rem;
            transition: all 0.2s;
        }
        .copy-btn:hover {
            background-color: #333;
            color: white;
        }
        .copy-btn svg { width: 14px; height: 14px; }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        /* --- Buttons & Inputs --- */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background-color: var(--primary-color);
            color: white;
            padding: 0.8rem 1.8rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }
        .btn:hover {
            transform: translateY(-2px);
            filter: brightness(1.1);
        }
        .btn.gemini-btn {
            background: linear-gradient(45deg, var(--accent-color), var(--secondary-color));
        }

        .demo-input, textarea.demo-input {
            width: 100%;
            padding: 1rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            margin-bottom: 1.5rem;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Poppins', sans-serif;
            transition: all 0.3s;
        }
        textarea.demo-input {
            min-height: 80px;
            resize: vertical;
        }
        .demo-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
        }
        .demo-output {
            background-color: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 8px;
            margin-top: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            min-height: 100px;
            display: flex;
            align-items: center;
            white-space: pre-wrap;
            line-height: 1.6;
        }
        
        /* --- Specific Content Styling --- */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }
        .feature-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            padding: 1.5rem;
        }
        .feature-icon {
            background-color: var(--primary-light);
            color: var(--primary-color);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }
        .feature-icon svg { width: 28px; height: 28px; }
        .feature-title { font-weight: 600; font-size: 1.1rem; margin-bottom: 0.5rem; }
        .feature-desc { font-size: 0.9rem; color: var(--sidebar-text); }
        
        .architecture-diagram svg {
            width: 100%;
            height: auto;
            margin-top: 2rem;
            font-family: 'Poppins', sans-serif;
        }

        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 3rem;
        }
        .tech-card {
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            padding: 1.5rem;
            border-radius: 10px;
            text-align: center;
        }
        .tech-card img { height: 40px; margin-bottom: 1rem; }
        .tech-card h4 { font-size: 1rem; margin-bottom: 0.25rem; }
        .tech-card p { font-size: 0.85rem; color: var(--sidebar-text); }

        .step-by-step {
            counter-reset: step-counter;
            margin-top: 3rem;
        }
        .step {
            position: relative;
            padding: 2rem 2rem 2rem 4rem;
            margin-bottom: 2rem;
        }
        .step::before {
            counter-increment: step-counter;
            content: counter(step-counter);
            position: absolute;
            left: -10px;
            top: 1.5rem;
            background-color: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            z-index: 2;
        }
        .step::after {
            content: '';
            position: absolute;
            left: 9px;
            top: 2rem;
            bottom: -2rem;
            width: 2px;
            background-color: var(--border-color);
            z-index: 1;
        }
        .step:last-child::after {
            display: none;
        }
        .step h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
        }

        .troubleshooting-item h4 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--accent-color);
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                transform: translateX(-100%);
                width: 280px;
            }
            .sidebar.open {
                transform: translateX(0);
            }
            .main-content {
                margin-left: 0;
                width: 100%;
                padding: 1rem 1.5rem;
            }
            .section {
                padding-top: 4rem;
            }
            .menu-toggle {
                display: block;
                position: fixed;
                top: 1rem;
                left: 1rem;
                z-index: 1001;
                background-color: var(--card-bg);
                border: 1px solid var(--border-color);
                padding: 0.5rem;
                border-radius: 8px;
            }
        }

        @media (min-width: 1025px) {
            .menu-toggle { display: none; }
        }

        .menu-toggle svg {
            width: 24px;
            height: 24px;
            color: var(--text-color);
        }
    </style>
</head>
<body>
    <button class="menu-toggle" id="menu-toggle">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
    </button>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="BrainAPI-character.png" alt="BrainAPI Logo" class="sidebar-logo">
            <h1 class="sidebar-title">BrainAPI</h1>
        </div>
        <nav class="sidebar-nav">
            <ul id="nav-list">
                <li><a href="#visao-geral" class="active">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M2 13.3718C2 8.44125 2 5.97597 3.48792 4.4879C4.97592 3 7.44119 3 12.3717 3C17.3022 3 19.7675 3 21.2555 4.48792C22.7435 5.97595 22.7435 8.44128 22.7435 13.3718C22.7435 18.3024 22.7435 20.7677 21.2555 22.2556C19.7675 23.7435 17.3023 23.7435 12.3717 23.7435C7.44116 23.7435 4.97589 23.7435 3.48792 22.2556C2 20.7676 2 18.3023 2 13.3718Z" stroke-width="1.5"/><path d="M12.25 24V3M23 12H2" stroke-width="1.5"/></svg>
                    Visão Geral
                </a></li>
                <li><a href="#arquitetura">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M20 10V7a2 2 0 00-2-2h-2M4 14v3a2 2 0 002 2h2M17 14h3a2 2 0 002-2v-2M7 10H4a2 2 0 00-2 2v2M12 2v2M12 20v2M22 12h-2M4 12H2M12 16a4 4 0 100-8 4 4 0 000 8z"></path></svg>
                    Arquitetura
                </a></li>
                <li><a href="#tecnologias">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 00-3-3.87"></path><path d="M16 3.13a4 4 0 010 7.75"></path></svg>
                    Tecnologias
                </a></li>
                <li><a href="#instalacao">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 16V8a2 2 0 00-1-1.73l-7-4a2 2 0 00-2 0l-7 4A2 2 0 003 8v8a2 2 0 001 1.73l7 4a2 2 0 002 0l7-4A2 2 0 0021 16z"></path><path d="M3.27 6.96L12 12.01l8.73-5.05"></path><path d="M12 22.08V12"></path></svg>
                    Instalação
                </a></li>
                <li><a href="#exemplos">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><path d="M14 2v6h6"></path><path d="M16 13H8"></path><path d="M16 17H8"></path><path d="M10 9H8"></path></svg>
                    Exemplos Práticos
                </a></li>
                 <li><a href="#playground">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 3-1.45 4.74-4.74 1.45 4.74 1.45L12 15l1.45-4.74 4.74-1.45-4.74-1.45L12 3z"/><path d="M5 3v4"/><path d="M19 17v4"/><path d="M3 5h4"/><path d="M17 19h4"/></svg>
                    ✨ Playground API
                </a></li>
                <li><a href="#troubleshooting">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path><path d="M15 3h6v6"></path><path d="M10 14L21 3"></path></svg>
                    Troubleshooting
                </a></li>
            </ul>
        </nav>
        <div class="sidebar-footer">
            <button class="theme-toggle" id="theme-toggle">
                <span class="icon light-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg>
                    <span>Light Mode</span>
                </span>
                <span class="icon dark-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg>
                    <span>Dark Mode</span>
                </span>
            </button>
        </div>
    </aside>

    <main class="main-content">
        <div class="container">
            <!-- ========== Visão Geral ========== -->
            <section id="visao-geral" class="section">
                <div class="section-header">
                    <img src="image-1.png" alt="BrainAPI Diagrama" style="max-width: 100%; border-radius: 12px; margin-bottom: 2rem;">
                    <h2 class="section-title">Transforme Specs em Respostas Inteligentes</h2>
                    <p class="section-subtitle">
                        BrainAPI conecta IA conversacional a APIs REST, permitindo que você interaja com sistemas complexos usando apenas linguagem natural. Diga adeus ao cURL e Postman para testes e consultas.
                    </p>
                </div>

                <div class="card">
                    <h3>🔮 O Futuro da Interação com APIs</h3>
                    <p>Imagine simplesmente perguntar ao seu sistema:</p>
                    <div class="code-block">
                        <pre>Qual o status do cartão com UUID b4ff0172-3a01-4aca-96f0-72247c5ba34c?</pre>
                    </div>
                    <p style="margin-top: 1rem;">O BrainAPI entende, executa a chamada de API correta e traduz a resposta para você de forma clara e humana.</p>
                </div>
                
                <div class="feature-grid">
                    <div class="feature-item">
                        <div class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg></div>
                        <h4 class="feature-title">Interface Natural</h4>
                        <p class="feature-desc">Converse com suas APIs usando linguagem humana, sem necessidade de conhecimento técnico sobre a implementação.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg></div>
                        <h4 class="feature-title">Conversão Automática</h4>
                        <p class="feature-desc">Transforma especificações OpenAPI em ferramentas de IA (MCP) de forma automática, economizando horas de trabalho.</p>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg></div>
                        <h4 class="feature-title">IA Avançada</h4>
                        <p class="feature-desc">Utiliza o poder do Google Gemini via ADK, com flexibilidade para integrar outros LLMs, inclusive modelos locais.</p>
                    </div>
                </div>
            </section>

            <!-- ========== Arquitetura ========== -->
            <section id="arquitetura" class="section">
                <div class="section-header">
                    <h2 class="section-title">Arquitetura Inteligente</h2>
                    <p class="section-subtitle">O BrainAPI é composto por componentes modulares que trabalham em perfeita harmonia para entregar uma experiência fluida e poderosa.</p>
                </div>

                <div class="card">
                    <h3>Diagrama de Fluxo</h3>
                    <div class="architecture-diagram">
                        <svg viewBox="0 0 400 250">
                            <defs>
                                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5" markerWidth="6" markerHeight="6" orient="auto-start-reverse">
                                    <path d="M 0 0 L 10 5 L 0 10 z" fill="#888" />
                                </marker>
                            </defs>
                            <style>
                                .box { fill: var(--card-bg); stroke: var(--border-color); stroke-width: 1px; }
                                .box-title { font-size: 10px; font-weight: 600; fill: var(--primary-color); }
                                .box-text { font-size: 8px; fill: var(--text-color); }
                                .line { stroke: #888; stroke-width: 1px; marker-end: url(#arrow); }
                            </style>

                            <!-- Boxes -->
                            <rect x="10" y="20" width="80" height="40" rx="5" class="box" />
                            <text x="50" y="38" text-anchor="middle" class="box-title">Usuário</text>

                            <rect x="10" y="100" width="80" height="40" rx="5" class="box" />
                            <text x="50" y="118" text-anchor="middle" class="box-title">OpenAPI Spec</text>

                            <rect x="150" y="20" width="100" height="40" rx="5" class="box" />
                            <text x="200" y="38" text-anchor="middle" class="box-title">BrainAPI (Agente)</text>

                            <rect x="150" y="100" width="100" height="40" rx="5" class="box" />
                            <text x="200" y="118" text-anchor="middle" class="box-title">Gerador openapi2mcp</text>

                            <rect x="150" y="180" width="100" height="40" rx="5" class="box" />
                            <text x="200" y="198" text-anchor="middle" class="box-title">Tool Gerada</text>

                            <rect x="290" y="120" width="100" height="40" rx="5" class="box" />
                            <text x="340" y="138" text-anchor="middle" class="box-title">MCP Toolbox</text>
                            
                            <!-- Lines -->
                            <path class="line" d="M 90 40 H 145" />
                            <path class="line" d="M 90 120 H 145" />
                            <path class="line" d="M 250 120 H 285" />
                            <path class="line" d="M 200 140 V 175" />
                            <path class="line" d="M 200 220 V 230 H 340 V 160" />
                            <path class="line" d="M 255 35 Q 280 60 295 115" />
                        </svg>
                    </div>

                    <h4 style="margin-top: 2rem;">Fluxo de Funcionamento:</h4>
                    <ol style="padding-left: 1.5rem; margin-top: 1rem; line-height: 1.8;">
                        <li><strong>Especificação:</strong> As APIs são documentadas em formato OpenAPI.</li>
                        <li><strong>Geração:</strong> O `openapi2mcp-toolbox` converte os endpoints em ferramentas MCP (`tools.json`).</li>
                        <li><strong>Hospedagem:</strong> O MCP Toolbox (servidor) expõe as ferramentas via protocolo MCP.</li>
                        <li><strong>Processamento:</strong> O Agente ADK recebe o comando do usuário, usa o LLM para interpretar e chama a ferramenta apropriada no MCP Toolbox.</li>
                        <li><strong>Resposta:</strong> O resultado da API é recebido, formatado em linguagem natural e devolvido ao usuário.</li>
                    </ol>
                </div>
            </section>

            <!-- ========== Tecnologias ========== -->
            <section id="tecnologias" class="section">
                <div class="section-header">
                    <h2 class="section-title">Construído com as Melhores Ferramentas</h2>
                    <p class="section-subtitle">Utilizamos um ecossistema de tecnologias de ponta para garantir performance, escalabilidade e uma excelente experiência de desenvolvimento.</p>
                </div>
                
                <div class="card">
                    <h3>Ecossistema Tecnológico</h3>
                    <div class="tech-stack">
                        <div class="tech-card"><img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/java/java-original.svg" alt="Java"><h4>Java 17+</h4><p>Linguagem principal</p></div>
                        <div class="tech-card"><img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/spring/spring-original.svg" alt="Spring Boot"><h4>Spring Boot</h4><p>Framework Web</p></div>
                        <div class="tech-card"><img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/google/google-original.svg" alt="Google ADK"><h4>Google ADK</h4><p>Framework de Agentes</p></div>
                        <div class="tech-card"><img src="BrainAPI-character.png" alt="MCP"><h4>MCP Protocol</h4><p>Comunicação com Tools</p></div>
                        <div class="tech-card"><img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/docker/docker-original.svg" alt="Docker"><h4>Docker</h4><p>Containerização</p></div>
                        <div class="tech-card"><img src="https://raw.githubusercontent.com/devicons/devicon/master/icons/nodejs/nodejs-original.svg" alt="Node.js"><h4>Node.js</h4><p>Para MCP Inspector</p></div>
                    </div>
                </div>
            </section>

            <!-- ========== Guia de Instalação ========== -->
            <section id="instalacao" class="section">
                <div class="section-header">
                    <h2 class="section-title">Guia de Instalação</h2>
                    <p class="section-subtitle">Siga os passos abaixo para ter o seu próprio BrainAPI rodando localmente em minutos.</p>
                </div>
                <div class="card step-by-step">
                    <div class="step">
                        <h3>1. Clone e Configure o Ambiente</h3>
                        <p>Primeiro, clone o repositório e configure sua chave de API do Google AI Studio como uma variável de ambiente.</p>
                        <div class="code-block">
                            <div class="code-block-header"><span class="code-lang">bash</span><button class="copy-btn" data-clipboard-target="#code1">Copiar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg></button></div>
                            <pre id="code1"><code>git clone https://github.com/cesarschutz/BrainAPI.git
cd BrainAPI
export GOOGLE_API_KEY="sua-chave-do-google-ai-studio"</code></pre>
                        </div>
                    </div>
                    <div class="step">
                        <h3>2. Gere as Ferramentas MCP</h3>
                        <p>Navegue até o módulo gerador, compile e execute para criar o arquivo `tools.json` a partir da sua especificação OpenAPI.</p>
                        <div class="code-block">
                            <div class="code-block-header"><span class="code-lang">bash</span><button class="copy-btn" data-clipboard-target="#code2">Copiar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg></button></div>
                            <pre id="code2"><code>cd openapi2mcp-toolbox
mvn clean package
java -jar target/openapi-mcp-1.0-jar-with-dependencies.jar > ../tools.json
cd ..</code></pre>
                        </div>
                    </div>
                     <div class="step">
                        <h3>3. Inicie o MCP Toolbox (Servidor)</h3>
                        <p>Use o Docker para iniciar o servidor MCP Toolbox, que servirá as ferramentas que você acabou de gerar.</p>
                        <div class="code-block">
                            <div class="code-block-header"><span class="code-lang">bash</span><button class="copy-btn" data-clipboard-target="#code3">Copiar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg></button></div>
                            <pre id="code3"><code>export VERSION=0.6.0
docker run -d -p 8080:8080 \
 -v $(pwd)/tools.json:/tools.json \
 --name BrainAPI-mcp \
 us-central1-docker.pkg.dev/database-toolbox/toolbox/toolbox:$VERSION \
 --tools-file=/tools.json</code></pre>
                        </div>
                    </div>
                    <div class="step">
                        <h3>4. Execute o Agente ADK</h3>
                        <p>Finalmente, inicie o Agente BrainAPI. Ele se conectará ao MCP Toolbox e disponibilizará uma interface web para interação.</p>
                        <div class="code-block">
                            <div class="code-block-header"><span class="code-lang">bash</span><button class="copy-btn" data-clipboard-target="#code4">Copiar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg></button></div>
                            <pre id="code4"><code>cd BrainAPI-agent
mvn compile exec:java "-Dexec.args=--server.port=8081"</code></pre>
                        </div>
                        <p style="margin-top: 1rem;">Pronto! Acesse <a href="http://localhost:8081" target="_blank">http://localhost:8081</a> no seu navegador.</p>
                    </div>
                </div>
            </section>
            
            <!-- ========== Exemplos Práticos ========== -->
            <section id="exemplos" class="section">
                <div class="section-header">
                    <h2 class="section-title">BrainAPI em Ação (Powered by Gemini)</h2>
                    <p class="section-subtitle">As simulações agora são dinâmicas! A IA Gemini gera respostas realistas em tempo real para as suas perguntas.</p>
                </div>

                <div class="card">
                    <h3>Consulta de Cartão</h3>
                    <p>Peça informações sobre um cartão específico. Tente ser criativo!</p>
                    <div class="interactive-demo" style="margin-top: 1rem;">
                        <input type="text" class="demo-input" id="BrainAPIInput1" value="Qual o status do meu cartão com final 3456?">
                        <button class="btn gemini-btn" onclick="callGeminiForSimulation(1)">✨ Perguntar ao BrainAPI</button>
                        <div class="demo-output" id="BrainAPIOutput1">Aguardando seu comando...</div>
                    </div>
                </div>

                <div class="card">
                    <h3>Tratamento de Erros</h3>
                    <p>Veja como a IA lida com um pedido ambíguo ou um UUID que não existe.</p>
                     <div class="interactive-demo" style="margin-top: 1rem;">
                        <input type="text" class="demo-input" id="BrainAPIInput2" value="meu cartao xyz-987">
                        <button class="btn gemini-btn" onclick="callGeminiForSimulation(2)">✨ Perguntar ao BrainAPI</button>
                        <div class="demo-output" id="BrainAPIOutput2">Aguardando seu comando...</div>
                    </div>
                </div>
            </section>

            <!-- ========== Playground API ========== -->
            <section id="playground" class="section">
                <div class="section-header">
                    <h2 class="section-title">✨ Playground da API</h2>
                    <p class="section-subtitle">Use o poder da IA generativa para acelerar o desenvolvimento e a exploração das suas APIs.</p>
                </div>

                <div class="card">
                    <h3>Gerador de Queries de Usuário</h3>
                    <p>Descreva um endpoint da sua API e deixe a IA gerar exemplos de como um usuário poderia fazer essa requisição em linguagem natural.</p>
                    <div class="interactive-demo" style="margin-top: 1rem;">
                        <textarea class="demo-input" id="playgroundInput1" placeholder="Ex: GET /cards/{uuid}/balance - Retorna o saldo disponível no cartão."></textarea>
                        <button class="btn gemini-btn" onclick="callPlayground(1)">✨ Gerar Exemplos de Queries</button>
                        <div class="demo-output" id="playgroundOutput1">Aguardando a descrição do endpoint...</div>
                    </div>
                </div>

                <div class="card">
                    <h3>Tradutor de Query para Tool Call</h3>
                    <p>Escreva uma pergunta em linguagem natural e veja a IA traduzi-la para uma chamada de ferramenta (tool call) que o agente entenderia.</p>
                     <div class="interactive-demo" style="margin-top: 1rem;">
                        <input type="text" class="demo-input" id="playgroundInput2" value="Qual o limite do meu cartão principal?">
                        <button class="btn gemini-btn" onclick="callPlayground(2)">✨ Simular Chamada de Ferramenta</button>
                        <div class="demo-output" id="playgroundOutput2">Aguardando sua pergunta...</div>
                    </div>
                </div>
            </section>

            <!-- ========== Troubleshooting ========== -->
            <section id="troubleshooting" class="section">
                <div class="section-header">
                    <h2 class="section-title">Solução de Problemas</h2>
                    <p class="section-subtitle">Encontrou algum problema? Veja aqui as soluções para os erros mais comuns.</p>
                </div>

                <div class="card">
                    <div class="troubleshooting-item">
                        <h4>Erro de Conexão com MCP Toolbox</h4>
                        <p><strong>Sintoma:</strong> `Failed to connect to MCP server at http://localhost:8080/mcp/sse`</p>
                        <p><strong>Solução:</strong> Verifique se o container Docker `BrainAPI-mcp` está rodando corretamente com `docker ps`. Se necessário, verifique os logs com `docker logs BrainAPI-mcp` e reinicie-o.</p>
                    </div>
                    <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--border-color);">
                    <div class="troubleshooting-item">
                        <h4>API Key do Google Inválida</h4>
                        <p><strong>Sintoma:</strong> `Authentication failed with Google AI Studio` ou erros de API.</p>
                        <p><strong>Solução:</strong> Confirme que a variável de ambiente `GOOGLE_API_KEY` foi exportada corretamente e contém uma chave válida. Você pode verificar com `echo $GOOGLE_API_KEY`.</p>
                    </div>
                    <hr style="margin: 2rem 0; border: none; border-top: 1px solid var(--border-color);">
                    <div class="troubleshooting-item">
                        <h4>Porta em Uso</h4>
                        <p><strong>Sintoma:</strong> `Port 8080 is already in use`</p>
                        <p><strong>Solução:</strong> Outro serviço está usando a porta. Você pode parar o serviço (ex: `lsof -i :8080` para encontrar o PID e `kill -9 <PID>`) ou rodar os componentes em portas diferentes, ajustando os comandos de execução.</p>
                    </div>
                </div>
            </section>

        </div>
    </main>
    
<script>
document.addEventListener('DOMContentLoaded', function () {
    // --- Theme Toggler ---
    const themeToggle = document.getElementById('theme-toggle');
    const currentTheme = localStorage.getItem('theme') || 'light';
    document.documentElement.setAttribute('data-theme', currentTheme);

    themeToggle.addEventListener('click', () => {
        let theme = document.documentElement.getAttribute('data-theme');
        if (theme === 'light') {
            theme = 'dark';
        } else {
            theme = 'light';
        }
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
    });

    // --- Sidebar Navigation & Active State on Scroll ---
    const sections = document.querySelectorAll('.section');
    const navLinks = document.querySelectorAll('.sidebar-nav a');
    const navList = document.getElementById('nav-list');
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href').substring(1) === entry.target.id) {
                        link.classList.add('active');
                    }
                });
            }
        });
    }, { rootMargin: '-30% 0px -70% 0px' });

    sections.forEach(section => {
        observer.observe(section);
    });

    // --- Mobile Menu Toggle ---
    const menuToggle = document.getElementById('menu-toggle');
    const sidebar = document.getElementById('sidebar');

    menuToggle.addEventListener('click', () => {
        sidebar.classList.toggle('open');
    });

    document.addEventListener('click', (e) => {
        if (!sidebar.contains(e.target) && !menuToggle.contains(e.target)) {
            sidebar.classList.remove('open');
        }
    });

    navList.addEventListener('click', () => {
        if (window.innerWidth <= 1024) {
             sidebar.classList.remove('open');
        }
    });


    // --- Copy to Clipboard ---
    const copyButtons = document.querySelectorAll('.copy-btn');
    copyButtons.forEach(button => {
        button.addEventListener('click', () => {
            const targetId = button.getAttribute('data-clipboard-target');
            const target = document.querySelector(targetId);
            if (target) {
                navigator.clipboard.writeText(target.innerText)
                    .then(() => {
                        button.innerHTML = 'Copiado! <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"></polyline></svg>';
                        setTimeout(() => {
                           button.innerHTML = 'Copiar <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>';
                        }, 2000);
                    })
                    .catch(err => {
                        console.error('Falha ao copiar: ', err);
                    });
            }
        });
    });
});

/**
 * Função para chamar a API Gemini
 * @param {string} prompt O prompt para enviar para o modelo
 * @returns {Promise<string>} O texto da resposta do modelo
 */
async function callGeminiAPI(prompt) {
    // NOTA: Para este ambiente, a chave de API é injetada automaticamente.
    // Em um projeto real, você precisaria fornecer sua própria chave de API.
    const apiKey = ""; 
    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

    const payload = {
        contents: [{
            role: "user",
            parts: [{ text: prompt }]
        }]
    };

    try {
        const response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            const errorBody = await response.json();
            console.error("Erro na API Gemini:", errorBody);
            throw new Error(`Erro na API: ${response.statusText}`);
        }

        const result = await response.json();

        if (result.candidates && result.candidates.length > 0 &&
            result.candidates[0].content && result.candidates[0].content.parts &&
            result.candidates[0].content.parts.length > 0) {
            return result.candidates[0].content.parts[0].text;
        } else {
            console.warn("Resposta da API Gemini com estrutura inesperada:", result);
            // Verifica se a resposta foi bloqueada por segurança
            if(result.promptFeedback && result.promptFeedback.blockReason) {
                 return `A sua solicitação foi bloqueada por razões de segurança: ${result.promptFeedback.blockReason}. Por favor, ajuste o seu pedido.`;
            }
            return "Não foi possível obter uma resposta válida da IA.";
        }
    } catch (error) {
        console.error("Falha ao chamar a API Gemini:", error);
        return `Ocorreu um erro ao comunicar com a IA. Verifique a sua chave de API e a consola para mais detalhes.`;
    }
}

/**
 * Lida com a simulação de respostas do BrainAPI usando Gemini
 * @param {number} simId O ID da simulação
 */
async function callGeminiForSimulation(simId) {
    const inputEl = document.getElementById(`BrainAPIInput${simId}`);
    const outputEl = document.getElementById(`BrainAPIOutput${simId}`);
    const userInput = inputEl.value;
    
    if (!userInput.trim()) {
        outputEl.textContent = 'Por favor, digite um comando!';
        return;
    }

    outputEl.innerHTML = '<span>🧠 BrainAPI está a pensar...</span>';
    
    const prompt = `Você é um agente de IA chamado BrainAPI, especialista em interagir com APIs de cartões de crédito. Um utilizador enviou o seguinte pedido: "${userInput}".
    Com base neste pedido, simule uma resposta realista e concisa que o utilizador final veria.
    - Se o pedido for válido (como consultar um cartão), forneça uma resposta positiva com detalhes fictícios (status, limite, etc.).
    - Se o pedido for inválido, ambíguo ou mencionar um UUID que não parece real, forneça uma mensagem de erro amigável, explicando o possível problema.
    - Responda apenas com o texto para o utilizador, sem formatação JSON ou markdown.`;

    const responseText = await callGeminiAPI(prompt);
    outputEl.textContent = responseText;
}

/**
 * Lida com as chamadas do Playground API usando Gemini
 * @param {number} playgroundId O ID do playground
 */
async function callPlayground(playgroundId) {
    const inputEl = document.getElementById(`playgroundInput${playgroundId}`);
    const outputEl = document.getElementById(`playgroundOutput${playgroundId}`);
    const userInput = inputEl.value;

    if (!userInput.trim()) {
        outputEl.textContent = 'Por favor, insira um valor.';
        return;
    }

    outputEl.innerHTML = '<span>✨ A IA está a gerar...</span>';

    let prompt = '';
    if (playgroundId === 1) { // Gerador de Queries
        prompt = `Aja como um Product Manager a criar testes de usabilidade para uma API.
        Baseado na seguinte descrição de um endpoint de API: "${userInput}", gere 3 exemplos distintos e criativos de como um utilizador comum (não-técnico) poderia pedir essa informação em linguagem natural.
        Formate a resposta como uma lista numerada.
        
        Exemplo de Input: GET /cards/{uuid}/block - Bloqueia um cartão específico.
        Exemplo de Output:
        1. Preciso de bloquear o meu cartão com o final 1234 imediatamente.
        2. Perdi o meu cartão, podem bloqueá-lo por segurança?
        3. Bloqueia o meu cartão por favor.`;
    } else if (playgroundId === 2) { // Tradutor para Tool Call
        prompt = `Você é um agente de IA que traduz linguagem natural para chamadas de ferramentas (tool calls) de uma API.
        As ferramentas disponíveis são: get_card_info(uuid: string), block_card(uuid: string), get_balance(uuid: string), list_cards(customer_id: string).
        Baseado no pedido do utilizador: "${userInput}", qual seria a chamada de ferramenta correspondente?
        Se não conseguir determinar a ferramenta ou faltarem parâmetros essenciais (como o uuid), retorne um pedido de clarificação para o utilizador.
        Responda apenas com a chamada da ferramenta ou o pedido de clarificação.
        
        Exemplo de Input: Qual o status do meu cartão b4ff0172-3a01-4aca-96f0-72247c5ba34c?
        Exemplo de Output: get_card_info(uuid: "b4ff0172-3a01-4aca-96f0-72247c5ba34c")
        
        Exemplo de Input: bloqueia o meu cartão.
        Exemplo de Output: Para bloquear o seu cartão, preciso que me forneça o UUID ou os últimos 4 dígitos.`;
    }

    const responseText = await callGeminiAPI(prompt);
    outputEl.textContent = responseText;
}

</script>
</body>
</html>
